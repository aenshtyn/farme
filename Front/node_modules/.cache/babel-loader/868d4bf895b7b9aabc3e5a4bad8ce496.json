{"remainingRequest":"/Users/aenshtyn/Desktop/Code/Personal/farm/Front/node_modules/thread-loader/dist/cjs.js!/Users/aenshtyn/Desktop/Code/Personal/farm/Front/node_modules/babel-loader/lib/index.js!/Users/aenshtyn/Desktop/Code/Personal/farm/Front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/aenshtyn/Desktop/Code/Personal/farm/Front/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/aenshtyn/Desktop/Code/Personal/farm/Front/src/components/registration/Register.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/aenshtyn/Desktop/Code/Personal/farm/Front/src/components/registration/Register.vue","mtime":1647854033127},{"path":"/Users/aenshtyn/Desktop/Code/Personal/farm/Front/babel.config.js","mtime":1647800954734},{"path":"/Users/aenshtyn/Desktop/Code/Personal/farm/Front/node_modules/cache-loader/dist/cjs.js","mtime":1647800955564},{"path":"/Users/aenshtyn/Desktop/Code/Personal/farm/Front/node_modules/thread-loader/dist/cjs.js","mtime":1647800957943},{"path":"/Users/aenshtyn/Desktop/Code/Personal/farm/Front/node_modules/babel-loader/lib/index.js","mtime":1647800955438},{"path":"/Users/aenshtyn/Desktop/Code/Personal/farm/Front/node_modules/cache-loader/dist/cjs.js","mtime":1647800955564},{"path":"/Users/aenshtyn/Desktop/Code/Personal/farm/Front/node_modules/vue-loader-v16/dist/index.js","mtime":1647800958028}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBGb3JtLCBGaWVsZCwgRXJyb3JNZXNzYWdlIH0gZnJvbSAidmVlLXZhbGlkYXRlIjsKaW1wb3J0ICogYXMgeXVwIGZyb20gInl1cCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVnaXN0ZXIiLAogIGNvbXBvbmVudHM6IHsKICAgIEZvcm06IEZvcm0sCiAgICBGaWVsZDogRmllbGQsCiAgICBFcnJvck1lc3NhZ2U6IEVycm9yTWVzc2FnZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBzY2hlbWEgPSB5dXAub2JqZWN0KCkuc2hhcGUoewogICAgICB1c2VybmFtZTogeXVwLnN0cmluZygpLnJlcXVpcmVkKCJVc2VybmFtZSBpcyByZXF1aXJlZCEiKS5tYXgoNTAsICJNdXN0IGJlIG1heGltdW0gMTAgY2hhcmFjdGVycyEiKSwKICAgICAgZW1haWw6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiRW1haWwgaXMgcmVxdWlyZWQhIikuZW1haWwoIkVtYWlsIGlzIGludmFsaWQhIikubWF4KDUwLCAiTXVzdCBiZSBtYXhpbXVtIDUwIGNoYXJhY3RlcnMhIiksCiAgICAgIHBhc3N3b3JkOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoIlBhc3N3b3JkIGlzIHJlcXVpcmVkISIpLm1pbig2LCAiTXVzdCBiZSBhdCBsZWFzdCA2IGNoYXJhY3RlcnMhIikubWF4KDQwLCAiTXVzdCBiZSBtYXhpbXVtIDQwIGNoYXJhY3RlcnMhIikKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgc3VjY2Vzc2Z1bDogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgc2NoZW1hOiBzY2hlbWEKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbG9nZ2VkSW46IGZ1bmN0aW9uIGxvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC5zdGF0dXMubG9nZ2VkSW47CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKHRoaXMubG9nZ2VkSW4pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlUmVnaXN0ZXI6IGZ1bmN0aW9uIGhhbmRsZVJlZ2lzdGVyKHVzZXIpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubWVzc2FnZSA9ICIiOwogICAgICB0aGlzLnN1Y2Nlc3NmdWwgPSBmYWxzZTsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImF1dGgvcmVnaXN0ZXIiLCB1c2VyKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMubWVzc2FnZSA9IGRhdGEubWVzc2FnZTsKICAgICAgICBfdGhpcy5zdWNjZXNzZnVsID0gdHJ1ZTsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLm1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5kYXRhICYmIGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBlcnJvci5tZXNzYWdlIHx8IGVycm9yLnRvU3RyaW5nKCk7CiAgICAgICAgX3RoaXMuc3VjY2Vzc2Z1bCA9IGZhbHNlOwogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;AA0CA,SAASA,IAAT,EAAeC,KAAf,EAAsBC,YAAtB,QAA0C,cAA1C;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,eAAe;AACbC,MAAI,EAAE,UADO;AAEbC,YAAU,EAAE;AACVL,QAAI,EAAJA,IADU;AAEVC,SAAK,EAALA,KAFU;AAGVC,gBAAY,EAAZA;AAHU,GAFC;AAObI,MAPa,kBAON;AACL,QAAMC,MAAK,GAAIJ,GAAG,CAACK,MAAJ,GAAaC,KAAb,CAAmB;AAChCC,cAAQ,EAAEP,GAAE,CACTQ,MADO,GAEPC,QAFO,CAEE,uBAFF,EAGPC,GAHO,CAGH,EAHG,EAGC,gCAHD,CADsB;AAKhCC,WAAK,EAAEX,GAAE,CACNQ,MADI,GAEJC,QAFI,CAEK,oBAFL,EAGJE,KAHI,CAGE,mBAHF,EAIJD,GAJI,CAIA,EAJA,EAII,gCAJJ,CALyB;AAUhCE,cAAQ,EAAEZ,GAAE,CACTQ,MADO,GAEPC,QAFO,CAEE,uBAFF,EAGPI,GAHO,CAGH,CAHG,EAGA,gCAHA,EAIPH,GAJO,CAIH,EAJG,EAIC,gCAJD;AAVsB,KAAnB,CAAf;AAgBA,WAAO;AACLI,gBAAU,EAAE,KADP;AAELC,aAAO,EAAE,KAFJ;AAGLC,aAAO,EAAE,EAHJ;AAILZ,YAAM,EAANA;AAJK,KAAP;AAMD,GA9BY;AA+Bba,UAAQ,EAAE;AACRC,YADQ,sBACG;AACT,aAAO,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBC,MAAvB,CAA8BJ,QAArC;AACD;AAHO,GA/BG;AAoCbK,SApCa,qBAoCH;AACR,QAAI,KAAKL,QAAT,EAAmB;AACjB,WAAKM,OAAL,CAAaC,IAAb,CAAkB,QAAlB;AACF;AACD,GAxCY;AAyCbC,SAAO,EAAE;AACPC,kBADO,0BACQC,IADR,EACc;AAAA;;AACnB,WAAKZ,OAAL,GAAe,EAAf;AACA,WAAKF,UAAL,GAAkB,KAAlB;AACA,WAAKC,OAAL,GAAe,IAAf;AACA,WAAKI,MAAL,CAAYU,QAAZ,CAAqB,eAArB,EAAsCD,IAAtC,EAA4CE,IAA5C,CACE,UAAC3B,IAAD,EAAU;AACR,aAAI,CAACa,OAAL,GAAeb,IAAI,CAACa,OAApB;AACA,aAAI,CAACF,UAAL,GAAkB,IAAlB;AACA,aAAI,CAACC,OAAL,GAAe,KAAf;AACD,OALH,EAME,UAACgB,KAAD,EAAW;AACT,aAAI,CAACf,OAAL,GACGe,KAAK,CAACC,QAAN,IACCD,KAAK,CAACC,QAAN,CAAe7B,IADhB,IAEC4B,KAAK,CAACC,QAAN,CAAe7B,IAAf,CAAoBa,OAFtB,IAGAe,KAAK,CAACf,OAHN,IAIAe,KAAK,CAACE,QAAN,EALF;AAMA,aAAI,CAACnB,UAAL,GAAkB,KAAlB;AACA,aAAI,CAACC,OAAL,GAAe,KAAf;AACF,OAfF;AAiBD;AAtBM;AAzCI,CAAf","names":["Form","Field","ErrorMessage","yup","name","components","data","schema","object","shape","username","string","required","max","email","password","min","successful","loading","message","computed","loggedIn","$store","state","auth","status","mounted","$router","push","methods","handleRegister","user","dispatch","then","error","response","toString"],"sourceRoot":"","sources":["/Users/aenshtyn/Desktop/Code/Personal/farm/Front/src/components/registration/Register.vue"],"sourcesContent":["<template>\n  <div class=\"col-md-12\">\n    <div class=\"card card-container\">\n      <Form @submit=\"handleRegister\" :validation-schema=\"schema\">\n        <div v-if=\"!successful\">\n              <div class=\"form-group\">\n            <label for=\"username\">Username</label>\n            <Field name=\"username\" type=\"username\" class=\"form-control\" />\n            <ErrorMessage name=\"username\" class=\"error-feedback\" />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"email\">Email</label>\n            <Field name=\"email\" type=\"email\" class=\"form-control\" />\n            <ErrorMessage name=\"email\" class=\"error-feedback\" />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"password\">Password</label>\n            <Field name=\"password\" type=\"password\" class=\"form-control\" />\n            <ErrorMessage name=\"password\" class=\"error-feedback\" />\n          </div>\n          <div class=\"form-group\">\n            <button class=\"btn btn-primary btn-block\" :disabled=\"loading\">\n              <span\n                v-show=\"loading\"\n                class=\"spinner-border spinner-border-sm\"\n              ></span>\n              Sign Up\n            </button>\n          </div>\n        </div>\n      </Form>\n      <div\n        v-if=\"message\"\n        class=\"alert\"\n        :class=\"successful ? 'alert-success' : 'alert-danger'\"\n      >\n        {{ message }}\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\nexport default {\n  name: \"Register\",\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  data() {\n    const schema = yup.object().shape({\n      username: yup\n        .string()\n        .required(\"Username is required!\")\n        .max(50, \"Must be maximum 10 characters!\"),\n      email: yup\n        .string()\n        .required(\"Email is required!\")\n        .email(\"Email is invalid!\")\n        .max(50, \"Must be maximum 50 characters!\"),\n      password: yup\n        .string()\n        .required(\"Password is required!\")\n        .min(6, \"Must be at least 6 characters!\")\n        .max(40, \"Must be maximum 40 characters!\"),\n    });\n    return {\n      successful: false,\n      loading: false,\n      message: \"\",\n      schema,\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n  },\n  mounted() {\n    if (this.loggedIn) {\n      this.$router.push(\"/login\");\n    }\n  },\n  methods: {\n    handleRegister(user) {\n      this.message = \"\";\n      this.successful = false;\n      this.loading = true;\n      this.$store.dispatch(\"auth/register\", user).then(\n        (data) => {\n          this.message = data.message;\n          this.successful = true;\n          this.loading = false;\n        },\n        (error) => {\n          this.message =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n          this.successful = false;\n          this.loading = false;\n        }\n      );\n    },\n  },\n};\n</script>\n<style scoped>\n\n\n</style>"]}]}