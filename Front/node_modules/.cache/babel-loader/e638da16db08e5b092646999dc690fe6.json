{"remainingRequest":"/Users/aenshtyn/Desktop/Code/Personal/Projects/farm/Front/node_modules/babel-loader/lib/index.js!/Users/aenshtyn/Desktop/Code/Personal/Projects/farm/Front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/aenshtyn/Desktop/Code/Personal/Projects/farm/Front/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/aenshtyn/Desktop/Code/Personal/Projects/farm/Front/src/components/registration/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/aenshtyn/Desktop/Code/Personal/Projects/farm/Front/src/components/registration/Login.vue","mtime":1647852101873},{"path":"/Users/aenshtyn/Desktop/Code/Personal/Projects/farm/Front/babel.config.js","mtime":1647800954734},{"path":"/Users/aenshtyn/Desktop/Code/Personal/Projects/farm/Front/node_modules/cache-loader/dist/cjs.js","mtime":1647800955564},{"path":"/Users/aenshtyn/Desktop/Code/Personal/Projects/farm/Front/node_modules/babel-loader/lib/index.js","mtime":1647800955438},{"path":"/Users/aenshtyn/Desktop/Code/Personal/Projects/farm/Front/node_modules/cache-loader/dist/cjs.js","mtime":1647800955564},{"path":"/Users/aenshtyn/Desktop/Code/Personal/Projects/farm/Front/node_modules/vue-loader-v16/dist/index.js","mtime":1647800958028}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBGb3JtLCBGaWVsZCwgRXJyb3JNZXNzYWdlIH0gZnJvbSAidmVlLXZhbGlkYXRlIjsKaW1wb3J0ICogYXMgeXVwIGZyb20gInl1cCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudHM6IHsKICAgIEZvcm06IEZvcm0sCiAgICBGaWVsZDogRmllbGQsCiAgICBFcnJvck1lc3NhZ2U6IEVycm9yTWVzc2FnZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBzY2hlbWEgPSB5dXAub2JqZWN0KCkuc2hhcGUoewogICAgICBlbWFpbDogeXVwLnN0cmluZygpLnJlcXVpcmVkKCJFbWFpbCBpcyByZXF1aXJlZCEiKSwKICAgICAgcGFzc3dvcmQ6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiUGFzc3dvcmQgaXMgcmVxdWlyZWQhIikKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIG1lc3NhZ2U6ICIiLAogICAgICBzY2hlbWE6IHNjaGVtYQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBsb2dnZWRJbjogZnVuY3Rpb24gbG9nZ2VkSW4oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnN0YXR1cy5sb2dnZWRJbjsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5sb2dnZWRJbikgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3Byb2ZpbGUiKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUxvZ2luOiBmdW5jdGlvbiBoYW5kbGVMb2dpbih1c2VyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXV0aC9sb2dpbiIsIHVzZXIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL3Byb2ZpbGUiKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzLm1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5kYXRhICYmIGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBlcnJvci5tZXNzYWdlIHx8IGVycm9yLnRvU3RyaW5nKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;AAkCA,SAASA,IAAT,EAAeC,KAAf,EAAsBC,YAAtB,QAA0C,cAA1C;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,eAAe;AACbC,MAAI,EAAE,OADO;AAEbC,YAAU,EAAE;AACVL,QAAI,EAAJA,IADU;AAEVC,SAAK,EAALA,KAFU;AAGVC,gBAAY,EAAZA;AAHU,GAFC;AAObI,MAPa,kBAON;AACL,QAAMC,MAAK,GAAIJ,GAAG,CAACK,MAAJ,GAAaC,KAAb,CAAmB;AAChCC,WAAK,EAAEP,GAAG,CAACQ,MAAJ,GAAaC,QAAb,CAAsB,oBAAtB,CADyB;AAEhCC,cAAQ,EAAEV,GAAG,CAACQ,MAAJ,GAAaC,QAAb,CAAsB,uBAAtB;AAFsB,KAAnB,CAAf;AAIA,WAAO;AACLE,aAAO,EAAE,KADJ;AAELC,aAAO,EAAE,EAFJ;AAGLR,YAAM,EAANA;AAHK,KAAP;AAKD,GAjBY;AAkBbS,UAAQ,EAAE;AACRC,YADQ,sBACG;AACT,aAAO,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBC,MAAvB,CAA8BJ,QAArC;AACD;AAHO,GAlBG;AAuBbK,SAvBa,qBAuBH;AACR,QAAI,KAAKL,QAAT,EAAmB;AACjB,WAAKM,OAAL,CAAaC,IAAb,CAAkB,UAAlB;AACF;AACD,GA3BY;AA4BbC,SAAO,EAAE;AACPC,eADO,uBACKC,IADL,EACW;AAAA;;AAChB,WAAKb,OAAL,GAAe,IAAf;AACA,WAAKI,MAAL,CAAYU,QAAZ,CAAqB,YAArB,EAAmCD,IAAnC,EAAyCE,IAAzC,CACE,YAAM;AACJ,aAAI,CAACN,OAAL,CAAaC,IAAb,CAAkB,UAAlB;AACD,OAHH,EAIE,UAACM,KAAD,EAAW;AACT,aAAI,CAAChB,OAAL,GAAe,KAAf;AACA,aAAI,CAACC,OAAL,GACGe,KAAK,CAACC,QAAN,IACCD,KAAK,CAACC,QAAN,CAAezB,IADhB,IAECwB,KAAK,CAACC,QAAN,CAAezB,IAAf,CAAoBS,OAFtB,IAGAe,KAAK,CAACf,OAHN,IAIAe,KAAK,CAACE,QAAN,EALF;AAMF,OAZF;AAcD;AAjBM;AA5BI,CAAf","names":["Form","Field","ErrorMessage","yup","name","components","data","schema","object","shape","email","string","required","password","loading","message","computed","loggedIn","$store","state","auth","status","created","$router","push","methods","handleLogin","user","dispatch","then","error","response","toString"],"sourceRoot":"","sources":["/Users/aenshtyn/Desktop/Code/Personal/Projects/farm/Front/src/components/registration/Login.vue"],"sourcesContent":["<template>\n  <div class=\"col-md-12\">\n    <div class=\"card card-container\">\n    \n      <Form @submit=\"handleLogin\" :validation-schema=\"schema\">\n        <div class=\"form-group\">\n          <label for=\"email\">Email</label>\n          <Field name=\"email\" type=\"text\" class=\"form-control\" />\n          <ErrorMessage name=\"email\" class=\"error-feedback\" />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"password\">Password</label>\n          <Field name=\"password\" type=\"password\" class=\"form-control\" />\n          <ErrorMessage name=\"password\" class=\"error-feedback\" />\n        </div>\n        <div class=\"form-group\">\n          <button class=\"btn btn-primary btn-block\" :disabled=\"loading\">\n            <span\n              v-show=\"loading\"\n              class=\"spinner-border spinner-border-sm\"\n            ></span>\n            <span>Login</span>\n          </button>\n        </div>\n        <div class=\"form-group\">\n          <div v-if=\"message\" class=\"alert alert-danger\" role=\"alert\">\n            {{ message }}\n          </div>\n        </div>\n      </Form>\n    </div>\n  </div>\n</template>\n<script>\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\nexport default {\n  name: \"Login\",\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  data() {\n    const schema = yup.object().shape({\n      email: yup.string().required(\"Email is required!\"),\n      password: yup.string().required(\"Password is required!\"),\n    });\n    return {\n      loading: false,\n      message: \"\",\n      schema,\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n  },\n  created() {\n    if (this.loggedIn) {\n      this.$router.push(\"/profile\");\n    }\n  },\n  methods: {\n    handleLogin(user) {\n      this.loading = true;\n      this.$store.dispatch(\"auth/login\", user).then(\n        () => {\n          this.$router.push(\"/profile\");\n        },\n        (error) => {\n          this.loading = false;\n          this.message =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n        }\n      );\n    },\n  },\n};\n</script>\n<style>\n\n\n</style>"]}]}